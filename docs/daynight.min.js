var daynight=function(exports){"use strict";var __assign=function(){__assign=Object.assign||function __assign(t){for(var s,i=1,n=arguments.length;i<n;i++){s=arguments[i];for(var p in s)if(Object.prototype.hasOwnProperty.call(s,p))t[p]=s[p]}return t};return __assign.apply(this,arguments)};var timeZoneCoordinates={"Africa/Abidjan":[-5.55,7.53],"Africa/Accra":[-1.19,7.83],"Africa/Addis_Ababa":[39.62,8.64],"Africa/Algiers":[2.68,28.26],"Africa/Asmara":[39.26,15.4],"Africa/Bamako":[-3.52,17.35],"Africa/Bangui":[20.49,6.57],"Africa/Banjul":[-15.62,13.44],"Africa/Bissau":[-15.36,11.8],"Africa/Blantyre":[34.3,-13.21],"Africa/Brazzaville":[15.18,-.88],"Africa/Bujumbura":[29.89,-3.36],"Africa/Cairo":[30.09,26.57],"Africa/Casablanca":[-6.44,31.9],"Africa/Ceuta":[-4.34,35.64],"Africa/Conakry":[-11.07,10.42],"Africa/Dakar":[-14.62,14.37],"Africa/Dar_es_Salaam":[35.03,-6.3],"Africa/Djibouti":[42.71,11.78],"Africa/Douala":[12.69,5.65],"Africa/El_Aaiun":[-13.33,24.62],"Africa/Freetown":[-11.93,8.46],"Africa/Gaborone":[23.81,-22.19],"Africa/Harare":[29.87,-19],"Africa/Johannesburg":[12.71,-50.61],"Africa/Juba":[30.2,7.36],"Africa/Kampala":[32.39,1.28],"Africa/Khartoum":[30.06,16.03],"Africa/Kigali":[29.93,-2],"Africa/Kinshasa":[19.22,-1.6],"Africa/Lagos":[8.05,9.5],"Africa/Libreville":[11.62,-.65],"Africa/Lome":[.99,8.49],"Africa/Luanda":[17.41,-12.27],"Africa/Lubumbashi":[25.82,-3.5],"Africa/Lusaka":[27.79,-13.46],"Africa/Malabo":[9.75,1.78],"Africa/Maputo":[35.7,-17.38],"Africa/Maseru":[28.25,-29.58],"Africa/Mbabane":[31.5,-26.57],"Africa/Mogadishu":[46.01,6.16],"Africa/Monrovia":[-9.35,6.33],"Africa/Nairobi":[37.92,.45],"Africa/Ndjamena":[18.67,15.38],"Africa/Niamey":[9.4,17.42],"Africa/Nouakchott":[-10.42,20.24],"Africa/Ouagadougou":[-1.75,12.27],"Africa/Porto-Novo":[2.34,9.58],"Africa/Sao_Tome":[6.95,.84],"Africa/Tripoli":[18.05,27.16],"Africa/Tunis":[9.77,34.38],"Africa/Windhoek":[17.1,-22.18],"America/Adak":[-36.33,52.15],"America/Anchorage":[-152.31,64.32],"America/Anguilla":[-63.22,18.4],"America/Antigua":[-61.87,17.29],"America/Aruba":[-69.97,12.54],"America/Araguaina":[-48.33,-10.15],"America/Argentina/Buenos_Aires":[-60.35,-36.8],"America/Argentina/Catamarca":[-67.85,-39.82],"America/Argentina/Cordoba":[-61.07,-29.26],"America/Argentina/Jujuy":[-65.76,-23.32],"America/Argentina/La_Rioja":[-67.18,-29.68],"America/Argentina/Mendoza":[-68.58,-34.63],"America/Argentina/Rio_Gallegos":[-69.59,-48.74],"America/Argentina/Salta":[-66.62,-35.78],"America/Argentina/San_Juan":[-68.89,-30.86],"America/Argentina/San_Luis":[-66.03,-33.76],"America/Argentina/Tucuman":[-65.36,-26.95],"America/Argentina/Ushuaia":[-53.88,-77.02],"America/Asuncion":[-58.39,-23.24],"America/Atikokan":[-85.11,62.07],"America/Bahia":[-41.59,-12.6],"America/Bahia_Banderas":[-105.48,20.82],"America/Barbados":[-59.56,13.18],"America/Belem":[-50.35,-2.8],"America/Belize":[-88.44,17.22],"America/Blanc-Sablon":[-60.57,50.58],"America/Boa_Vista":[-61.39,2.08],"America/Bogota":[-73.4,4.31],"America/Boise":[-114.62,43.57],"America/Cambridge_Bay":[-104.36,70.71],"America/Campo_Grande":[-54.85,-20.33],"America/Cancun":[-87.84,19.71],"America/Caracas":[-66.18,7.78],"America/Cayenne":[-53.18,4.05],"America/Cayman":[-80.61,19.51],"America/Chicago":[-94.7,37.9],"America/Chihuahua":[-106.56,28.36],"America/Costa_Rica":[-84.3,9.78],"America/Creston":[-116.47,49.27],"America/Cuiaba":[-55.91,-12.95],"America/Curacao":[-68.94,12.17],"America/Danmarkshavn":[-20.1,74.22],"America/Dawson":[-139.5,64.98],"America/Dawson_Creek":[-121.78,56.48],"America/Denver":[-107.48,41.32],"America/Detroit":[-85.6,44.82],"America/Dominica":[-61.35,15.4],"America/Edmonton":[-114.56,54.91],"America/Eirunepe":[-70.72,-6.52],"America/El_Salvador":[-88.86,13.65],"America/Fort_Nelson":[-123.44,59.08],"America/Fortaleza":[-42.38,-5.8],"America/Glace_Bay":[-60.88,46.17],"America/Goose_Bay":[-61.92,54.64],"America/Grand_Turk":[-71.77,21.54],"America/Grenada":[-61.63,12.19],"America/Guadeloupe":[-61.44,16.19],"America/Guatemala":[-90.36,15.65],"America/Guayaquil":[-78.67,-1.44],"America/Guyana":[-58.95,4.91],"America/Halifax":[-63.32,46.02],"America/Havana":[-79.55,21.64],"America/Hermosillo":[-111.06,29.63],"America/Indiana/Indianapolis":[-86.07,40.09],"America/Indiana/Knox":[-86.65,41.28],"America/Indiana/Marengo":[-86.45,38.29],"America/Indiana/Petersburg":[-87.23,38.4],"America/Indiana/Tell_City":[-86.64,38.08],"America/Indiana/Vevay":[-85.04,38.83],"America/Indiana/Vincennes":[-87.08,38.62],"America/Indiana/Winamac":[-86.7,41.04],"America/Inuvik":[-125.73,67.7],"America/Iqaluit":[-77.82,69.4],"America/Jamaica":[-77.33,17.73],"America/Juneau":[-135.22,58.37],"America/Kentucky/Louisville":[-85.85,38.28],"America/Kentucky/Monticello":[-84.83,36.8],"America/Kralendijk":[-66.12,14.48],"America/La_Paz":[-64.66,-16.71],"America/Lima":[-76.15,-10.27],"America/Los_Angeles":[-119.31,41.22],"America/Lower_Princes":[-63.1,17.94],"America/Maceio":[-36.86,-10.02],"America/Managua":[-85.02,12.83],"America/Manaus":[-63.85,-3.84],"America/Marigot":[-63.08,18.07],"America/Martinique":[-61.01,14.65],"America/Matamoros":[-101.04,27.79],"America/Mazatlan":[-109.56,24.86],"America/Miquelon":[-56.36,46.92],"America/Menominee":[-88.49,46.07],"America/Merida":[-89.92,19.87],"America/Metlakatla":[-131.5,55.13],"America/Mexico_City":[-99.08,19.39],"America/Moncton":[-66.06,46.61],"America/Monterrey":[-102,25.27],"America/Montevideo":[-55.99,-33.04],"America/Montserrat":[-62.18,16.72],"America/Nassau":[-76.6,23.86],"America/New_York":[-78.63,37.72],"America/Nipigon":[-84.06,49.79],"America/Nome":[-165.02,62.83],"America/Noronha":[-32.44,-3.83],"America/North_Dakota/Beulah":[-101.83,47.31],"America/North_Dakota/Center":[-101.34,47.12],"America/North_Dakota/New_Salem":[-101.28,46.72],"America/Nuuk":[-40.26,74.69],"America/Ojinaga":[-106.15,30.41],"America/Panama":[-80.15,8.45],"America/Pangnirtung":[-65.51,68.33],"America/Paramaribo":[-55.89,4.24],"America/Phoenix":[-111.88,34],"America/Port-au-Prince":[-72.98,18.92],"America/Port_of_Spain":[-61.13,10.66],"America/Porto_Velho":[-62.84,-10.91],"America/Puerto_Rico":[-66.53,18.21],"America/Punta_Arenas":[-69.71,-54.85],"America/Rainy_River":[-92.16,51.9],"America/Rankin_Inlet":[-92.38,69.91],"America/Recife":[-37.89,-8.32],"America/Regina":[-104.35,54.28],"America/Resolute":[-94.86,75.11],"America/Rio_Branco":[-70.47,-9.21],"America/Santarem":[-55.2,-3.75],"America/Santiago":[-71.73,-34.86],"America/Santo_Domingo":[-70.2,19.29],"America/Sao_Paulo":[-48.33,-21.8],"America/Scoresbysund":[-22.86,71.15],"America/Sitka":[-133.1,56.13],"America/St_Barthelemy":[-62.8,17.88],"America/St_Johns":[-56.25,49.14],"America/St_Kitts":[-62.68,17.24],"America/St_Lucia":[-60.97,13.89],"America/St_Thomas":[-64.81,17.95],"America/St_Vincent":[-61.24,13.03],"America/Swift_Current":[-108.4,54.67],"America/Tegucigalpa":[-86.15,15.11],"America/Thule":[-67.21,77.49],"America/Thunder_Bay":[-89.11,48.35],"America/Tijuana":[-115.01,30.27],"America/Toronto":[-72.19,53.16],"America/Tortola":[-64.45,18.56],"America/Vancouver":[-126.03,54.01],"America/Whitehorse":[-133.69,63.14],"America/Winnipeg":[-97.44,54.88],"America/Yakutat":[-139.34,59.6],"America/Yellowknife":[-113.29,68.02],"Antarctica/Casey":[108.15,-67.24],"Antarctica/Davis":[81.86,-76.23],"Antarctica/DumontDUrville":[140,-67.5],"Antarctica/Macquarie":[158.83,-54.73],"Antarctica/Mawson":[65.88,-75.97],"Antarctica/McMurdo":[3.87,-84.89],"Antarctica/Palmer":[-64.54,-64.66],"Antarctica/Rothera":[-50.44,-77.67],"Antarctica/Syowa":[40.5,-75.97],"Antarctica/Troll":[12.5,-77],"Antarctica/Vostok":[99.48,-76.76],"Arctic/Longyearbyen":[19.33,78.68],"Asia/Aden":[47.58,15.66],"Asia/Almaty":[73.98,48.3],"Asia/Amman":[36.79,31.24],"Asia/Anadyr":[98.73,66.64],"Asia/Aqtau":[53.7,44.14],"Asia/Aqtobe":[58.6,48.6],"Asia/Ashgabat":[59.06,39.2],"Asia/Atyrau":[52.06,47.49],"Asia/Baghdad":[43.78,33.04],"Asia/Bahrain":[50.61,26.11],"Asia/Baku":[47.8,40.27],"Asia/Bangkok":[101.91,15.66],"Asia/Barnaul":[84.14,51.96],"Asia/Beirut":[35.74,33.93],"Asia/Bishkek":[74.52,41.46],"Asia/Brunei":[114.73,4.57],"Asia/Chita":[116.2,52.85],"Asia/Choibalsan":[114.7,47.4],"Asia/Colombo":[80.64,7.75],"Asia/Damascus":[38.46,35.04],"Asia/Dhaka":[90.33,23.67],"Asia/Dili":[125.98,-8.77],"Asia/Dubai":[54.1,24.18],"Asia/Dushanbe":[71,38.52],"Asia/Famagusta":[33.77,35.43],"Asia/Gaza":[34.31,31.48],"Asia/Hebron":[35.26,31.95],"Asia/Ho_Chi_Minh":[107.27,11.75],"Asia/Hong_Kong":[114.19,22.34],"Asia/Hovd":[94.17,47.33],"Asia/Irkutsk":[107.29,56.06],"Asia/Jakarta":[105.07,-1.95],"Asia/Jayapura":[132.07,-3.52],"Asia/Jerusalem":[35.01,31.65],"Asia/Kabul":[66.03,33.83],"Asia/Kamchatka":[162.99,58.68],"Asia/Karachi":[69.29,29.85],"Asia/Kathmandu":[83.95,28.26],"Asia/Khandyga":[136.37,62.74],"Asia/Kolkata":[79.73,22.28],"Asia/Krasnoyarsk":[95.67,67.82],"Asia/Kuala_Lumpur":[102.21,3.99],"Asia/Kuching":[114.84,3.87],"Asia/Kuwait":[47.85,29.3],"Asia/Macau":[113.58,22.15],"Asia/Magadan":[154.07,62.46],"Asia/Makassar":[120.34,-3.35],"Asia/Manila":[121.99,10.86],"Asia/Muscat":[56.27,20.63],"Asia/Nicosia":[33.01,34.89],"Asia/Novokuznetsk":[87.21,54.78],"Asia/Novosibirsk":[79.77,55.28],"Asia/Omsk":[73.34,56.1],"Asia/Oral":[50.67,49.81],"Asia/Phnom_Penh":[104.73,12.47],"Asia/Pontianak":[111.76,-1.53],"Asia/Pyongyang":[127.16,40.05],"Asia/Qatar":[51.42,25.4],"Asia/Qostanay":[64.02,51.6],"Asia/Qyzylorda":[63.64,45.19],"Asia/Riyadh":[44.35,24.02],"Asia/Samarkand":[62.17,41.93],"Asia/Sakhalin":[142.76,50.08],"Asia/Seoul":[127.44,35.95],"Asia/Shanghai":[104.35,36.31],"Asia/Singapore":[103.93,1.33],"Asia/Srednekolymsk":[150.18,67.8],"Asia/Taipei":[120.76,23.57],"Asia/Tashkent":[69.49,40.73],"Asia/Tbilisi":[43.31,42.21],"Asia/Tehran":[54.28,32.37],"Asia/Thimphu":[90.43,27.4],"Asia/Tokyo":[136.68,36.11],"Asia/Tomsk":[82.14,58.49],"Asia/Ulaanbaatar":[104.46,46.49],"Asia/Urumqi":[85.18,41.12],"Asia/Ust-Nera":[144.12,59.03],"Asia/Vientiane":[103.77,18.5],"Asia/Vladivostok":[137.75,60.28],"Asia/Yakutsk":[121.77,64.14],"Asia/Yangon":[96.49,20.26],"Asia/Yekaterinburg":[68.6,62.47],"Asia/Yerevan":[44.94,40.29],"Atlantic/Azores":[-27.25,38.28],"Atlantic/Bermuda":[-64.77,32.32],"Atlantic/Canary":[-15.69,28.42],"Atlantic/Cape_Verde":[-23.89,15.97],"Atlantic/Faroe":[-6.88,61.97],"Atlantic/Madeira":[-16.56,32.21],"Atlantic/Reykjavik":[-19.07,65.04],"Atlantic/South_Georgia":[-32.18,-56.08],"Atlantic/St_Helena":[-10.93,-28.68],"Atlantic/Stanley":[-59.68,-51.76],"Australia/Adelaide":[135.87,-30.37],"Australia/Brisbane":[144.65,-22.23],"Australia/Broken_Hill":[141.48,-31.92],"Australia/Currie":[143.98,-39.86],"Australia/Darwin":[133.38,-19.08],"Australia/Eucla":[127.05,-31.78],"Australia/Hobart":[146.72,-41.9],"Australia/Lindeman":[149.02,-20.28],"Australia/Lord_Howe":[159.16,-31.64],"Australia/Melbourne":[144.35,-36.92],"Australia/Perth":[133.69,-65.03],"Australia/Sydney":[147.11,-32.19],"Etc/UTC":[-11.13,-77.99],"Europe/Amsterdam":[5.38,52.39],"Europe/Andorra":[1.58,42.55],"Europe/Astrakhan":[47.44,46.9],"Europe/Athens":[24,38.25],"Europe/Belgrade":[20.8,44.03],"Europe/Berlin":[10.37,51.32],"Europe/Bratislava":[19.48,48.71],"Europe/Brussels":[4.58,50.67],"Europe/Bucharest":[25.07,45.81],"Europe/Budapest":[19.41,47.17],"Europe/Busingen":[8.69,47.7],"Europe/Chisinau":[28.46,47.2],"Europe/Copenhagen":[10.44,56],"Europe/Dublin":[-8.35,53.18],"Europe/Gibraltar":[-5.34,36.11],"Europe/Guernsey":[-2.49,49.58],"Europe/Helsinki":[25.9,64.25],"Europe/Isle_of_Man":[-4.56,54.2],"Europe/Istanbul":[34.85,39.1],"Europe/Jersey":[-2.19,49.13],"Europe/Kaliningrad":[21.15,54.77],"Europe/Kiev":[31.29,49.18],"Europe/Kirov":[49.83,58.68],"Europe/Lisbon":[-8.19,39.5],"Europe/Ljubljana":[14.81,46.11],"Europe/London":[-3.35,54.73],"Europe/Luxembourg":[6.09,49.78],"Europe/Madrid":[-3.24,40.34],"Europe/Malta":[14.38,35.94],"Europe/Mariehamn":[20.27,60.16],"Europe/Minsk":[28.05,53.54],"Europe/Monaco":[7.47,43.64],"Europe/Moscow":[45.02,62.16],"Europe/Oslo":[14.25,65.08],"Europe/Paris":[2.34,46.53],"Europe/Podgorica":[19.2,42.7],"Europe/Prague":[15.33,49.74],"Europe/Riga":[24.57,56.93],"Europe/Rome":[12.45,41.99],"Europe/Samara":[51.55,55.08],"Europe/San_Marino":[12.46,43.94],"Europe/Sarajevo":[17.79,44.17],"Europe/Saratov":[46.8,51.58],"Europe/Simferopol":[34.36,45.22],"Europe/Skopje":[21.7,41.6],"Europe/Sofia":[25.39,42.76],"Europe/Stockholm":[16.91,62.35],"Europe/Tallinn":[24.85,58.71],"Europe/Tirane":[19.99,41.1],"Europe/Ulyanovsk":[47.95,53.89],"Europe/Uzhgorod":[23.28,48.4],"Europe/Vaduz":[9.55,47.14],"Europe/Vatican":[12.45,41.9],"Europe/Vienna":[14.14,47.59],"Europe/Vilnius":[23.8,55.35],"Europe/Volgograd":[44.15,49.62],"Europe/Warsaw":[19.32,52.21],"Europe/Zagreb":[16.13,44.54],"Europe/Zaporozhye":[35.77,47.17],"Europe/Zurich":[8.23,46.8],"Indian/Antananarivo":[46.71,-19.18],"Indian/Chagos":[71.85,-6.17],"Indian/Christmas":[105.63,-10.49],"Indian/Cocos":[96.85,-12.04],"Indian/Comoro":[43.8,-12.01],"Indian/Kerguelen":[66.21,-47.8],"Indian/Mahe":[52.33,-7.07],"Indian/Maldives":[73.19,3.47],"Indian/Mauritius":[58.91,-17.88],"Indian/Mayotte":[45.11,-12.83],"Indian/Reunion":[55.53,-21.13],"Pacific/Apia":[-172.12,-13.77],"Pacific/Auckland":[167.68,-41.62],"Pacific/Bougainville":[155.14,-4.94],"Pacific/Chatham":[-176.39,-43.98],"Pacific/Chuuk":[147.34,7.89],"Pacific/Easter":[-109.35,-27.13],"Pacific/Efate":[168,-16.23],"Pacific/Enderbury":[-172.13,-3.8],"Pacific/Fakaofo":[-171.81,-9.07],"Pacific/Fiji":[15.61,-17.96],"Pacific/Funafuti":[175.57,-8.03],"Pacific/Galapagos":[-90.74,-.15],"Pacific/Gambier":[-135.6,-22.23],"Pacific/Guadalcanal":[160.32,-9.1],"Pacific/Guam":[144.77,13.45],"Pacific/Honolulu":[-159.58,21.31],"Pacific/Kiritimati":[-155.81,-2.5],"Pacific/Kosrae":[162.97,5.31],"Pacific/Kwajalein":[167.39,9.13],"Pacific/Majuro":[168.48,9.04],"Pacific/Marquesas":[-139.66,-9.22],"Pacific/Midway":[-177.75,28.29],"Pacific/Nauru":[166.94,-.53],"Pacific/Niue":[-169.86,-19.05],"Pacific/Norfolk":[167.95,-29.06],"Pacific/Noumea":[164.81,-20.65],"Pacific/Pago_Pago":[-170.34,-13.6],"Pacific/Palau":[133.69,6.29],"Pacific/Pitcairn":[-128.47,-24.5],"Pacific/Pohnpei":[156.91,6.17],"Pacific/Port_Moresby":[147.19,-5.68],"Pacific/Rarotonga":[-160.35,-16.06],"Pacific/Saipan":[145.59,17.16],"Pacific/Tahiti":[-144.82,-17.6],"Pacific/Tarawa":[174.06,.08],"Pacific/Tongatapu":[-175.18,-19.89],"Pacific/Wake":[166.63,19.3],"Pacific/Wallis":[-177.1,-13.77]};var PI=Math.PI;var DR=PI/180;var K1=15*DR*1.0027379;var lst=function(lon,jd,z){var s=24110.5+8640184.813*jd/36525+86636.6*z+86400*lon;s=s/86400;s=s-Math.floor(s);return s*360*DR};var sgn=function(x){return x>0?1:x<0?-1:0};function sundown(d,lon,lat){var Rise_time=[0,0];var Set_time=[0,0];var Sky=[0,0];var RAn=[0,0,0];var Dec=[0,0,0];var VHz=[0,0,0];var julian_day=function(d){var a,b,jd;var gregorian;var month=d.getMonth()+1;var day=d.getDate();var year=d.getFullYear();gregorian=year<1583?false:true;if(month==1||month==2){year=year-1;month=month+12}a=Math.floor(year/100);if(gregorian)b=2-a+Math.floor(a/4);else b=0;jd=Math.floor(365.25*(year+4716))+Math.floor(30.6001*(month+1))+day+b-1524.5;return jd};var test_hour=function(k,t0,lat){var ha=new Array(3);var a,b,c,d,e,s,z;var hr,min,time;ha[0]=t0-RAn[0]+k*K1;ha[2]=t0-RAn[2]+k*K1+K1;ha[1]=(ha[2]+ha[0])/2;Dec[1]=(Dec[2]+Dec[0])/2;s=Math.sin(lat*DR);c=Math.cos(lat*DR);z=Math.cos(90.833*DR);if(k<=0)VHz[0]=s*Math.sin(Dec[0])+c*Math.cos(Dec[0])*Math.cos(ha[0])-z;VHz[2]=s*Math.sin(Dec[2])+c*Math.cos(Dec[2])*Math.cos(ha[2])-z;if(sgn(VHz[0])==sgn(VHz[2]))return VHz[2];VHz[1]=s*Math.sin(Dec[1])+c*Math.cos(Dec[1])*Math.cos(ha[1])-z;a=2*VHz[0]-4*VHz[1]+2*VHz[2];b=-3*VHz[0]+4*VHz[1]-VHz[2];d=b*b-4*a*VHz[0];if(d<0)return VHz[2];d=Math.sqrt(d);e=(-b+d)/(2*a);if(e>1||e<0)e=(-b-d)/(2*a);time=k+e+1/120;hr=Math.floor(time);min=Math.floor((time-hr)*60);ha[0]+e*(ha[2]-ha[0]);if(VHz[0]<0&&VHz[2]>0){Rise_time[0]=hr;Rise_time[1]=min}if(VHz[0]>0&&VHz[2]<0){Set_time[0]=hr;Set_time[1]=min}return VHz[2]};var sun=function(jd,ct){var g,lo,s,u,v,w;lo=.779072+.00273790931*jd;lo=lo-Math.floor(lo);lo=lo*2*PI;g=.993126+.0027377785*jd;g=g-Math.floor(g);g=g*2*PI;v=.39785*Math.sin(lo);v=v-.01*Math.sin(lo-g);v=v+.00333*Math.sin(lo+g);v=v-21e-5*ct*Math.sin(lo);u=1-.03349*Math.cos(g);u=u-14e-5*Math.cos(2*lo);u=u+8e-5*Math.cos(lo);w=-1e-4-.04129*Math.sin(2*lo);w=w+.03211*Math.sin(g);w=w+.00104*Math.sin(2*lo-g);w=w-35e-5*Math.sin(2*lo+g);w=w-8e-5*ct*Math.sin(g);s=w/Math.sqrt(u-v*v);Sky[0]=lo+Math.atan(s/Math.sqrt(1-s*s));s=v/Math.sqrt(u);Sky[1]=Math.atan(s/Math.sqrt(1-s*s))};var zone=Math.round(d.getTimezoneOffset()/60);var jd=julian_day(d)-2451545;lon=lon/360;var tz=zone/24;var ct=jd/36525+1;var t0=lst(lon,jd,tz);jd+=tz;sun(jd,ct);var ra0=Sky[0];var dec0=Sky[1];++jd;sun(jd,ct);var ra1=Sky[0];var dec1=Sky[1];if(ra1<ra0){ra1+=2*PI}RAn[0]=ra0;Dec[0]=dec0;for(var k=0;k<24;++k){RAn[2]=ra0+(k+1)*(ra1-ra0)/24;Dec[2]=dec0+(k+1)*(dec1-dec0)/24;VHz[2]=test_hour(k,t0,lat);RAn[0]=RAn[2];Dec[0]=Dec[2];VHz[0]=VHz[2]}var sunsetTime=new Date(d.getTime());var sunriseTime=new Date(d.getTime());sunsetTime.setHours(Set_time[0]);sunsetTime.setMinutes(Set_time[1]);sunsetTime.setSeconds(0);sunriseTime.setHours(Rise_time[0]);sunriseTime.setMinutes(Rise_time[1]);sunriseTime.setSeconds(0);return{sunrise:sunriseTime,sunset:sunsetTime}}var getProgress=function(_a){var cycle=_a.cycle,start=_a.start,end=_a.end;return function(value){var light=Math.abs(start-end);var lightMid=light/2;var lightPeek=start+lightMid;var dark=cycle-light;var darkMid=dark/2;var darkPeek=end+darkMid;var prevCycleDarkEnd=end-cycle;var getRest=function(from,to){return(value-Math.min(from,to))/Math.abs(from-to)/2};if(start<=value&&value<lightPeek){return.5+getRest(start,lightPeek)}if(lightPeek<=value&&value<end){return 1-getRest(lightPeek,end)}if(end<=value&&value<darkPeek){return.5-getRest(end,darkPeek)}if(prevCycleDarkEnd<=value&&value<start){return getRest(prevCycleDarkEnd,start)}return 0}};var getBrightness=function(_a){var sunrise=_a[0],sunset=_a[1];var HOUR=1e3*60*60;var DAY=24*HOUR;var brightness=getProgress({cycle:DAY,start:sunrise.valueOf(),end:sunset.valueOf()});return function(date){return brightness(date.valueOf())}};var daynight=function(config){var options=__assign(__assign({},getDefaultOptions()),config);var coordinates=getTimeZoneCoordinates(options.timeZone);if(!coordinates){throw new Error('Timezone "'+options.timeZone+'" not found')}var lon=coordinates[0],lat=coordinates[1];var _a=sundown(options.date,lon,lat),sunrise=_a.sunrise,sunset=_a.sunset;var brightness=getBrightness([sunrise,sunset])(options.date);var dark=options.date<sunrise||options.date>sunset;var light=!dark;return{coordinates:coordinates,dark:dark,light:light,brightness:brightness,sunrise:sunrise,sunset:sunset,timezone:options.timeZone}};var getDefaultOptions=function(){return{timeZone:Intl.DateTimeFormat().resolvedOptions().timeZone,date:new Date}};var getTimeZoneCoordinates=function(timeZone){return timeZoneCoordinates[timeZone]};exports["default"]=daynight;Object.defineProperty(exports,"__esModule",{value:true});return exports}({});